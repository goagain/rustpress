package rustpress:types;

// Data types shared between host and plugins
record post-data {
    id: s64,
    title: string,
    content: string,
    category: string,
    author-id: s64,
    created-at: string,
    updated-at: string,
}

record user-data {
    id: s64,
    username: string,
    email: string,
    role: string,
    created-at: string,
}

record auth-data {
    username: string,
    password: string,
    ip-address: option<string>,
    user-agent: option<string>,
}

// Hook input variants
variant hook-input {
    filter-post-published(post-data),
    action-post-published(post-data),
    filter-user-created(user-data),
    action-user-created(user-data),
    action-user-login(user-data),
    filter-authenticate(auth-data),
}

// Hook output variants
variant hook-output {
    filter-post-published(post-data),
    filter-user-created(user-data),
    filter-authenticate(bool),
}